<header class="bg-primary-bg shadow-md fixed top-0 left-0 right-0 z-50">
  <!-- Main desktop navbar -->
  <div class="w-full px-6 h-22 text-nowrap max-lg:hidden">
    <div
      class="max-w-[87%] max-[1440px]:max-w-[100%] max-[1260px]:mx-5 mx-auto flex items-center justify-between h-full">
      <!-- Logo and brand -->
      <div class="flex items-center space-x-2 cursor-pointer" routerLink="/">
        <img
          src="../../../../../public/logo.svg"
          alt="Logo"
          class="w-28 h-auto" />
      </div>

      <!-- Nav items -->
      <nav>
        <ul
          class="flex space-x-6 min-[1440px]:space-x-4 max-[1260px]:space-x-4 max-[1260px]:text-sm text-md font-semibold text-gray-800 items-center">
          <!-- Dropdown with icon -->
          <li class="relative py-10 min-[1440px]:px-2 group cursor-pointer">
            <div class="flex items-center space-x-1 hover:text-primary">
              <button
                class="font-bold leading-0.5 cursor-pointer"
                routerLink="/courses">
                Programy
              </button>
              <svg
                class="w-4 h-4 transition-transform duration-300 group-hover:rotate-180"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 15 14"
                fill="none">
                <path
                  d="M4 5.25L7.5 8.75L11 5.25"
                  stroke="black"
                  stroke-width="1.5"
                  stroke-linecap="round"
                  stroke-linejoin="round" />
              </svg>
            </div>
            <div
              class="hidden group-hover:block absolute bg-white shadow-md mt-9 right-[-100px] rounded w-fit z-50">
              <a
                routerLink="/courses/english-for-children-3-6"
                class="block px-4 py-2 hover:text-primary"
                >Angielski dla dzieci 3–6 lat</a
              >
              <a
                routerLink="/courses/english-for-children-7-10"
                class="block px-4 py-2 hover:text-primary"
                >Angielski dla dzieci 7–10 lat</a
              >
              <a
                routerLink="/courses/english-for-children-11-14"
                class="block px-4 py-2 hover:text-primary"
                >Angielski dla młodzieży 11–14 lat</a
              >
              <a
                routerLink="/courses/english-for-children-14-19"
                class="block px-4 py-2 hover:text-primary"
                >Angielski dla młodzieży 15–19 lat</a
              >
            </div>
          </li>

          <li class="relative py-10 min-[1440px]:px-2 group cursor-pointer">
            <div class="flex items-center space-x-1 hover:text-primary">
              <button
                class="font-bold leading-0.5 cursor-pointer"
                routerLink="/schools">
                Nasze Kampusy
              </button>
              <svg
                class="w-4 h-4 transition-transform duration-300 group-hover:rotate-180"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 15 14"
                fill="none">
                <path
                  d="M4 5.25L7.5 8.75L11 5.25"
                  stroke="black"
                  stroke-width="1.5"
                  stroke-linecap="round"
                  stroke-linejoin="round" />
              </svg>
            </div>
            <div
              class="absolute mt-9 z-50 bg-white rounded-md shadow-lg p-2 hidden group-hover:block transition-all duration-300">
              <div
                [ngClass]="{
                  'grid grid-cols-2 gap-2 w-max ': branches?.length > 5,
                  'flex flex-col min-w-[240px] right-0': branches?.length <= 5
                }"
                class="max-h-64 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300">
                <a
                  *ngFor="let branch of branches"
                  [routerLink]="['/schools']"
                  [queryParams]="{ branch: branch.region }"
                  class="block px-4 py-2 text-sm text-gray-700 hover:text-primary rounded transition-colors duration-200 whitespace-nowrap">
                  {{ branch.region }}
                </a>
              </div>
            </div>
          </li>

          <li
            class="py-10 min-[1440px]:px-2 font-bold leading-0.5 hover:text-primary">
            <a routerLink="/method" class="">Nasze podejście</a>
          </li>
          <li class="relative py-10 min-[1440px]:px-2 group cursor-pointer">
            <div class="flex items-center space-x-1 hover:text-primary">
              <button
                class="font-bold leading-0.5 cursor-pointer"
                routerLink="/parent">
                Zasoby dla rodziców
              </button>
              <svg
                class="w-4 h-4 transition-transform duration-300 group-hover:rotate-180"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 15 14"
                fill="none">
                <path
                  d="M4 5.25L7.5 8.75L11 5.25"
                  stroke="black"
                  stroke-width="1.5"
                  stroke-linecap="round"
                  stroke-linejoin="round" />
              </svg>
            </div>
            <div
              class="hidden group-hover:flex absolute bg-white shadow-md mt-9 right-[-130px] rounded w-fit z-50">
              <div>
                <a
                  routerLink="/registration/applicationForm"
                  class="block px-4 py-2 hover:text-primary"
                  >Zapisz swoje dziecko do Polyglot Kids</a
                >
                <a
                  routerLink="/parent/smart-parent-academy"
                  class="block px-4 py-2 hover:text-primary"
                  >Akademia Mądrego Rodzica</a
                >
                <a
                  href="/assets/faq_2.pdf"
                  download
                  class="block px-4 py-2 hover:text-primary"
                  >FAQ</a
                >
              </div>
            </div>
          </li>

          <li class="relative py-10 min-[1440px]:px-2 group cursor-pointer">
            <div class="flex items-center space-x-1 hover:text-primary">
              <button
                class="font-bold leading-0.5 cursor-pointer"
                routerLink="/blogs">
                Artykuły
              </button>
              <svg
                class="w-4 h-4 transition-transform duration-300 group-hover:rotate-180"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 15 14"
                fill="none">
                <path
                  d="M4 5.25L7.5 8.75L11 5.25"
                  stroke="black"
                  stroke-width="1.5"
                  stroke-linecap="round"
                  stroke-linejoin="round" />
              </svg>
            </div>
            <div
              class="hidden group-hover:flex absolute bg-white flex-col shadow-md mt-9 right-[-100px] rounded w-fit z-50">
              <a routerLink="/blogs" class="block px-4 py-2 hover:text-primary"
                >Edukacja</a
              >
              <a routerLink="/blogs" class="block px-4 py-2 hover:text-primary"
                >Kreatywna nauka</a
              >
              <a routerLink="/blogs" class="block px-4 py-2 hover:text-primary"
                >Ciekawe miejsca</a
              >
            </div>
          </li>

          <li
            class="py-10 min-[1440px]:px-2 font-bold leading-0.5 hover:text-primary">
            <a routerLink="" routerLink="/about">O nas</a>
          </li>
          <li
            class="py-10 min-[1440px]:px-2 font-bold leading-0.5 hover:text-primary">
            <a routerLink="" routerLink="/contact">Kontakt</a>
          </li>
        </ul>
      </nav>

      <!-- Show button only if user is logged in or not -->
      <ng-container *ngIf="isLoggedIn !== null">
        <button
          *ngIf="isLoggedIn"
          [routerLink]="'/adminPanel'"
          class="bg-primary text-white font-bold text-sm px-10 py-3.5 max-[1260px]:px-6 max-[1260px]:py-2.5 rounded-full shadow-md hover:bg-primary-hover">
          Panel Administratora
        </button>

        <button
          *ngIf="!isLoggedIn"
          [routerLink]="'/login'"
          class="bg-primary text-white font-bold text-sm px-10 py-3.5 max-[1260px]:px-6 max-[1260px]:py-2.5 rounded-full shadow-md hover:bg-primary-hover">
          Zaloguj się
        </button>
      </ng-container>
    </div>
  </div>
</header>
